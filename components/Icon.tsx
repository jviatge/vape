import { LucideProps } from "lucide-react";
import dynamicIconImports from "lucide-react/dynamicIconImports";
import dynamic from "next/dynamic";
import React, { useMemo } from "react";

export interface IconProps extends LucideProps {
    name: keyof typeof dynamicIconImports | "kayak";
}

const _Icon = ({ name, ...props }: IconProps) => {
    // width: size,
    // height: size,
    // stroke: color,
    // strokeWidth: absoluteStrokeWidth ? Number(strokeWidth) * 24 / Number(size) : strokeWidth,
    // className: ["lucide", `lucide-${toKebabCase(iconName)}`, className].join(" "),
    switch (name) {
        case "kayak":
            return (
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width={props.size || 24}
                    height={props.size || 24}
                    viewBox="0 0 101.76 122.88"
                    fill="none"
                    stroke="currentColor"
                    strokeWidth={props.strokeWidth || 1.4}
                    strokeLinecap="round"
                    strokeLinejoin="round"
                    className="lucide"
                >
                    <path d="M51.21.08a9.15,9.15,0,0,1,3.72,2.6A28.21,28.21,0,0,1,58.4,7.47C61.74,13.12,65.11,21.8,67.61,32a140.42,140.42,0,0,1,3.76,24.53H67.74a137.14,137.14,0,0,0-3.66-23.66A112.7,112.7,0,0,0,60,19.48a21,21,0,0,0-9.38-2.23,22.4,22.4,0,0,0-9.26,2.18,116.64,116.64,0,0,0-4.1,13.35,136.64,136.64,0,0,0-3.67,23.7H30a139.67,139.67,0,0,1,3.77-24.56c2.5-10.17,5.88-18.86,9.23-24.5a27.22,27.22,0,0,1,3.45-4.75A9.19,9.19,0,0,1,50.12.08a1.92,1.92,0,0,1,1.09,0ZM21.36,60h59V58.1a3.81,3.81,0,0,1,3.81-3.81H95.3c3.16,0,5.15,2.08,6,4.74a10,10,0,0,1,.46,3,9.88,9.88,0,0,1-.46,2.95c-.85,2.66-2.84,4.75-6,4.75H84.21a3.82,3.82,0,0,1-2.7-1.12h0a3.79,3.79,0,0,1-1.12-2.68V63.67h-59v2.21a3.79,3.79,0,0,1-1.12,2.68h0a3.79,3.79,0,0,1-2.69,1.12H6.45c-3.15,0-5.14-2.09-6-4.75A9.57,9.57,0,0,1,0,62a9.68,9.68,0,0,1,.46-3c.85-2.66,2.84-4.74,6-4.74h11.1a3.82,3.82,0,0,1,3.81,3.81V60Zm73.94-2.1H84.21a.17.17,0,0,0-.17.17v7.78a.14.14,0,0,0,0,.11h0a.17.17,0,0,0,.12.05H95.3a2.76,2.76,0,0,0,2.55-2.2A6.13,6.13,0,0,0,98.12,62a6.19,6.19,0,0,0-.27-1.86,2.76,2.76,0,0,0-2.55-2.2Zm-77.75,0H6.45a2.76,2.76,0,0,0-2.54,2.2A6.19,6.19,0,0,0,3.64,62a6.13,6.13,0,0,0,.27,1.85A2.76,2.76,0,0,0,6.45,66h11.1a.18.18,0,0,0,.12-.05h0a.14.14,0,0,0,0-.11V58.1a.17.17,0,0,0,0-.12.18.18,0,0,0-.12,0Zm54,9.37a134.28,134.28,0,0,1-4.18,27.4c-2.86,11-6.91,20.49-11.22,25a12.45,12.45,0,0,1-2.45,2A7.4,7.4,0,0,1,51,122.85a1.83,1.83,0,0,1-.66,0,7.67,7.67,0,0,1-2.65-1.07,12.83,12.83,0,0,1-2.45-2.06c-4.31-4.56-8.35-14-11.21-25A134.29,134.29,0,0,1,29.82,67.3h3.63a130.69,130.69,0,0,0,4.06,26.48c2.72,10.45,6.45,19.35,10.33,23.45a9.9,9.9,0,0,0,1.09,1V102.12a1.82,1.82,0,1,1,3.64,0v16a11.87,11.87,0,0,0,.91-.86c3.88-4.1,7.62-13,10.33-23.44A130,130,0,0,0,67.88,67.3ZM50.66,37.92c3.65,0,6.82,2.91,9,7.63a36.5,36.5,0,0,1,2.89,10.93H58.88a32.42,32.42,0,0,0-2.52-9.4c-1.58-3.41-3.6-5.51-5.7-5.51s-4.11,2.1-5.69,5.51a32.11,32.11,0,0,0-2.52,9.4H38.77a36.5,36.5,0,0,1,2.89-10.93c2.18-4.72,5.36-7.63,9-7.63Zm12,29.38a37.09,37.09,0,0,1-2.95,11.5c-2.19,4.71-5.36,7.63-9,7.63s-6.82-2.92-9-7.63a36.82,36.82,0,0,1-2.95-11.5h3.67a32.65,32.65,0,0,0,2.59,10c1.58,3.4,3.6,5.51,5.69,5.51s4.12-2.11,5.7-5.51A32.94,32.94,0,0,0,59,67.3Z" />
                </svg>
            );

        default:
            break;
    }

    const LucideIcon = useMemo(() => dynamic(dynamicIconImports[name]), [name]);

    return <LucideIcon {...props} />;
};

// ðŸ©¹ Fix for unnecessary re-renders
const Icon = React.memo(_Icon);

export default Icon;
